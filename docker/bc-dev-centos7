###############################################################################
# Dockerfile used to make gitlab.linphone.org:4567/bc/public/flexisip/bc-dev-centos7:20220902_git_cve_fix
###############################################################################

FROM gitlab.linphone.org:4567/bc/public/linphone-sdk/bc-dev-centos7:20210421_python3_fix_pip

MAINTAINER Fran√ßois Grisez <francois.grisez@belledonne-communications.com>

# Install extra Flexisip dependencies
RUN sudo su -c 'yum -y install jansson-devel libnghttp2-devel net-snmp-devel protobuf-devel devtoolset-8-libasan-devel devtoolset-8-libubsan-devel && yum -y clean all'

# CVE-2022-24765, from git 2.35.2 onward
RUN git config --global --add safe.directory *
